<!-- contact.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact | Ahbee Fabrication</title>
  <link rel="stylesheet" href="css/contact.css" />
</head>
<body class="contact-page">
  <header>
    <nav>
      <ul>
        <li><a href="index.html" class="nav-home">Home</a></li>
        <li><a href="about.html" class="nav-about">About</a></li>
        <li><a href="services.html" class="nav-services">Services</a></li>
        <li><a href="galleries.html" class="nav-galleries">Galleries</a></li>
        <li><a href="drawings.html" class="nav-drawings">Drawings</a></li>
        <li><a href="contact.html" class="nav-contact active">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="contact-columns">
      <!-- Form Column -->
      <div class="contact-form-column">
        <h1>Email Us</h1>
        <form id="contact-form" class="contact-form" name="contact">
          <input type="hidden" name="form-name" value="contact" />

          <label for="name">Full Name</label>
          <input type="text" id="name" name="user_name" placeholder="Your full name" required>

          <label for="email">Email Address</label>
          <input type="email" id="email" name="user_email" placeholder="you@example.com" required>

          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="user_phone" placeholder="+61 4XX XXX XXX">

          <label for="message">Message</label>
          <textarea id="message" name="message" rows="5" placeholder="Type your message here..." required></textarea>

          <button type="submit">Send Message</button>
        </form>
      </div>

      <!-- Info Column -->
      <div class="contact-info-column">
        <h1>Contact Us</h1>
        <p class="intro-text">
          At Ahbee Fabrication, we specialize in designing and building high-quality, custom kitchen trailers and a wide range of trailers tailored specifically to your unique requirements. Whether you’re embarking on a new project, seeking a detailed quote, or looking for expert guidance, our experienced team is here to provide personalized solutions every step of the way. Please use the contact form or the contact details provided to get in touch. We look forward to collaborating with you to bring your vision to life.
        </p>

        <section class="contact-info">
          <h2>Our Contact Information</h2>
          <p><strong>Phone:</strong> +61 4 0387 2586</p>
          <p><strong>Email:</strong> <a href="mailto:ahbee2963@gmail.com">ahbee2963@gmail.com</a></p>
          <p><strong>Business Hours:</strong> Monday to Friday, 8:00 AM – 5:00 PM</p>
        </section>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Ahbee Fabrication</p>
  </footer>

  <!-- Call Netlify Function instead of exposing keys -->
<script>
document.getElementById('contact-form').addEventListener('submit', async function(event) {
  event.preventDefault();

  const formData = {
    user_name: this.user_name.value,
    user_email: this.user_email.value,
    user_phone: this.user_phone.value,
    message: this.message.value
  };

  try {
    const res = await fetch("/.netlify/functions/send-email", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(formData)
    });

    const result = await res.json();

    if (res.ok) {
      alert(result.message);
      window.location.href = "thank-you.html";
    } else {
      throw new Error(result.error);
    }
  } catch (err) {
    alert("Failed to send message: " + err.message);
  }
});
</script>

</body>
</html>
